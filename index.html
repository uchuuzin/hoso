<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>放送原稿 統合マネージャー</title>
    <!-- Tailwind CSSの読み込み -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* カスタムフォントとレスポンシブな基本設定 */
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #f3f4f6;
        }
        /* 印刷時の設定（必要であれば） */
        @media print {
            .no-print {
                display: none;
            }
        }
        /* マスク機能用のスタイル */
        .mask-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95); /* 濃い黒で隠す */
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            border-radius: inherit; /* 親要素の角丸を継承 */
            pointer-events: none; /* マスクの下の要素がクリックできないようにする */
            text-align: center; /* 中央揃え */
        }
        /* マスクを適用するコンテンツの親要素 */
        .script-box {
            position: relative; /* マスクの親要素にする */
        }
        .masked-content {
            position: relative; /* マスクオーバーレイの基準点にする */
            display: block; /* ブロック要素にしてマスクしやすいように */
            border-radius: 0.375rem; /* rounded-mdに合わせて */
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div class="max-w-6xl mx-auto bg-white shadow-2xl rounded-xl min-h-[90vh]">
        <header class="p-6 bg-blue-700 text-white rounded-t-xl">
            <h1 class="text-3xl font-extrabold text-center">
                宝仙小 ラジオ放送原稿 統合マネージャー
            </h1>
            <p class="text-center mt-1 opacity-80">日付を選択し、放送原稿全体を確認できます。</p>
        </header>

        <!-- メインレイアウト: 日付選択 (左) と 詳細表示 (右) -->
        <div class="flex flex-col lg:flex-row">
            
            <!-- 1. 日付選択サイドバー (リスト) -->
            <div id="date-selector" class="w-full lg:w-1/4 p-4 lg:p-6 bg-gray-50 border-r border-gray-200 no-print">
                <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2">🗓️ 放送日を選択</h2>
                
                <!-- 詳細表示クリアボタン -->
                <button id="clear-selection-button" 
                        class="w-full text-center p-3 my-2 rounded-lg transition duration-150 ease-in-out bg-gray-200 hover:bg-gray-300 border border-gray-300 shadow-sm font-bold text-gray-700 no-print">
                    詳細表示をクリア
                </button>
                
                <!-- 日付ボタンがここにJSで挿入される -->
            </div>

            <!-- 2. 詳細表示エリア (大画面) -->
            <div id="script-detail" class="w-full lg:w-3/4 p-6 lg:p-10 relative">
                <!-- マスクボタンエリア (STATIC) -->
                <div id="mask-controls" class="mb-4 text-right no-print hidden">
                    <button id="mask-button" 
                            class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow transition duration-150 ease-in-out">
                        🔒 内容を隠す (マスクON)
                    </button>
                </div>

                <p id="initial-message" class="text-center text-gray-500 mt-20 text-lg">
                    左側のリストから放送日を選択してください。
                </p>
                <!-- 選択された原稿の動的コンテンツはここに追加される -->
            </div>
        </div>

    </div>

<script>
    // ----------------------------------------------------
    // 1. 放送データ
    // ----------------------------------------------------
    const broadcastData = [
        // 放送番号 1 (12月1日) - 雑学テーマ: 世界の給食・ランチ事情
        {
            id: 1,
            date: "12月1日 (月)",
            broadcastNo: 1,
            morning: {
                title: "朝の放送",
                music: "1曲目：ジブリ (曲名未定)",
                corner: "十善戒 音声ファイル"
            },
            lunch: {
                title: "昼の放送",
                music: ["1曲目：キセキ (GReeeeN)", "2曲目：こたえあわせ (back number)", "3曲目：怪獣の花唄 (Vaundy)"],
                intro: "全・宝仙小の皆さん、こんにちは！さて、始まりました！『Lunchtimemusic』のお時間です！この番組は、皆さんの毎日がさらに楽しくなるように発信する宝仙小ラジオ番組です。",
                triviaTitle: "ランチタイム雑学：世界の給食・ランチ事情",
                triviaContent: [
                    { title: "フランス", text: "フランスでは、給食の時間が約1時間半と長く、コース料理のように前菜からデザートまでゆっくりと食べます。食育を大切にしていて、給食の時間も授業の一環と考えられています。" },
                    { 
                        title: "インド", 
                        text: "インドの給食は、多くの場合「ベジタリアン（野菜だけ）」の献立です。カレーライスではなく、色々な種類の豆のカレーや野菜の炒め物が出ます。そして、インドではカトラリー（スプーンやお箸）を使わず、右手だけを使って食べるのが一般的です。" 
                    },
                    { title: "ブラジル", text: "ブラジルでは、給食は生徒の体格や栄養状態に合わせて提供されます。アレルギー対応や、宗教的な食事制限にも柔軟に対応しているのが特徴です。" }
                ],
                closing: "もう、昼休みのお時間がきてしまいました。お楽しみいただけましたか？それでは、今日はこのへんで。今日の放送の担当は**（自分の名前）**と**〇〇**でした！また明日もお会いしましょう！さようなら！"
            }
        },
        // 放送番号 2 (12月15日) - 変更なし
        {
            id: 2,
            date: "12月15日 (火)",
            broadcastNo: 2,
            morning: {
                title: "朝の放送",
                music: "1曲目：ジブリ (曲名未定)",
                corner: "十善戒 音声ファイル"
            },
            lunch: {
                title: "昼の放送",
                music: ["1曲目：水平線 (back number)", "2曲目：エジソン (水曜日のカンパネラ)", "3曲目：パプリカ (Foorin)"],
                intro: "全・宝仙小の皆さん、こんにちは！さて、始まりました！『Lunchtimemusic』のお時間です！この番組は、皆さんの毎日がさらに楽しくなるように発信する宝仙小ラジオ番組です。",
                triviaTitle: "ランチタイム雑学：世界のクリスマス",
                triviaContent: [
                    { title: "ドイツ", text: "クリスマスの約4週間前から「アドベント」という期間に入ります。アドベントカレンダーはドイツ発祥です。" },
                    { title: "オーストラリア", text: "南半球で真夏なので、サンタさんはカンガルーやサーフボードに乗ってくると言われています。ビーチや庭でバーベキューをします。" },
                    { title: "日本", text: "クリスマスにフライドチキンを食べる習慣があるのは、世界でも珍しい日本の文化だと言われています。" }
                ],
                closing: "もう、昼休みのお時間がきてしまいました。お楽しみいただけましたか？それでは、今日はこのへんで。今日の放送の担当は**（自分の名前）**と**〇〇**でした！また明日もお会いしましょう！さようなら！"
            }
        },
        // 放送番号 3 (1月以降) - 雑学あり、通常アナウンス、家カフェCDのみ
        {
            id: 3,
            date: "1月XX日 (水)",
            broadcastNo: 3,
            morning: {
                title: "朝の放送",
                music: "1曲目：ジブリ (曲名未定)",
                corner: "十善戒 音声ファイル"
            },
            lunch: {
                title: "昼の放送",
                music: ["家カフェCDより3曲（曲名未定）"],
                intro: "全・宝仙小の皆さん、こんにちは！さて、始まりました！『Lunchtimemusic』のお時間です！この番組は、皆さんの毎日がさらに楽しくなるように発信する宝仙小ラジオ番組です。",
                triviaTitle: "ランチタイム雑学：お正月の遊び",
                triviaContent: [
                    { title: "凧揚げ", text: "凧揚げはもともと、子どもの成長を願って大人がやっていた行事です。江戸時代に大人気になりましたが、人がぶつかったり火事になったりして、一時禁止されたこともあったそうです。" },
                    { title: "羽根つき", text: "羽根つきで使う羽根（むくろじ）には、虫を食べる黒い豆（ムクロジの種）が付いています。これは、羽根つきをすることで、厄を払い、蚊などの害虫を追い払う魔除けの意味があったと言われています。" }
                ],
                closing: "もう、昼休みのお時間がきてしまいました。お楽しみいただけましたか？それでは、今日はこのへんで。今日の放送の担当は**（自分の名前）**と**〇〇**でした！また明日もお会いしましょう！さようなら！"
            }
        }
    ];

    const selector = document.getElementById('date-selector');
    const detailArea = document.getElementById('script-detail');
    const initialMessage = document.getElementById('initial-message');
    const maskControls = document.getElementById('mask-controls');
    const maskButton = document.getElementById('mask-button');
    const clearButton = document.getElementById('clear-selection-button'); 
    let isMasked = false;

    // --- TTS API定数とユーティリティ関数 ---
    const apiKey = "";
    const TTS_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`;

    /**
     * 指数バックオフ付きのフェッチヘルパー関数。
     */
    async function exponentialBackoffFetch(url, options, maxRetries = 5) {
        for (let i = 0; i < maxRetries; i++) {
            try {
                const response = await fetch(url, options);
                if (response.ok) {
                    return response;
                } else if (response.status === 429 && i < maxRetries - 1) {
                    const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                } else {
                    throw new Error(`API error: ${response.statusText}`);
                }
            } catch (error) {
                if (i === maxRetries - 1) throw error;
                const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                await new Promise(resolve => setTimeout(resolve, delay));
            }
        }
        throw new Error("API call failed after all retries.");
    }
    
    /**
     * Base64エンコードされたPCMデータをArrayBufferに変換します。
     * @param {string} base64 - Base64エンコードされた文字列
     * @returns {ArrayBuffer} 
     */
    function base64ToArrayBuffer(base64) {
        const binaryString = atob(base64);
        const len = binaryString.length;
        const bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binaryString.charCodeAt(i);
        }
        return bytes.buffer;
    }

    /**
     * 16bit PCMデータをWAV形式のBlobに変換します。
     * @param {Int16Array} pcm16 - 16bit符号付きPCMデータ
     * @param {number} sampleRate - サンプルレート (Hz)
     * @returns {Blob} WAV形式のBlob
     */
    function pcmToWav(pcm16, sampleRate) {
        const numChannels = 1;
        const bitDepth = 16;
        const numSamples = pcm16.length;
        const buffer = new ArrayBuffer(44 + numSamples * 2);
        const view = new DataView(buffer);
        let offset = 0;

        function writeString(str) {
            for (let i = 0; i < str.length; i++) {
                view.setUint8(offset + i, str.charCodeAt(i));
            }
            offset += str.length;
        }

        function writeUint32(val) {
            view.setUint32(offset, val, true);
            offset += 4;
        }

        function writeUint16(val) {
            view.setUint16(offset, val, true);
            offset += 2;
        }

        // RIFF chunk descriptor
        writeString('RIFF'); // ChunkID
        writeUint32(36 + numSamples * 2); // ChunkSize
        writeString('WAVE'); // Format

        // fmt sub-chunk
        writeString('fmt '); // Subchunk1ID
        writeUint32(16); // Subchunk1Size
        writeUint16(1); // AudioFormat (1 for PCM)
        writeUint16(numChannels); // NumChannels
        writeUint32(sampleRate); // SampleRate
        writeUint32(sampleRate * numChannels * (bitDepth / 8)); // ByteRate
        writeUint16(numChannels * (bitDepth / 8)); // BlockAlign
        writeUint16(bitDepth); // BitsPerSample

        // data sub-chunk
        writeString('data'); // Subchunk2ID
        writeUint32(numSamples * numChannels * (bitDepth / 8)); // Subchunk2Size

        // PCM data
        for (let i = 0; i < pcm16.length; i++) {
            view.setInt16(offset, pcm16[i], true);
            offset += 2;
        }

        return new Blob([buffer], { type: 'audio/wav' });
    }

    /**
     * テキストを音声に変換して再生する機能 (Gemini TTS API)
     * @param {string} text - 読み上げるテキスト
     * @param {HTMLElement} buttonElement - 状態表示を更新するボタン要素
     */
    window.playScriptAudio = async function(text, buttonElement) {
        if (!text) return;
        
        buttonElement.disabled = true;
        const originalText = buttonElement.textContent;
        buttonElement.textContent = '🎶 読み込み中...';

        try {
            const payload = {
                contents: [{
                    parts: [{ text: text }]
                }],
                generationConfig: {
                    responseModalities: ["AUDIO"],
                    speechConfig: {
                        // 親しみやすく明るい声質の 'Puck' を選択
                        voiceConfig: {
                            prebuiltVoiceConfig: { voiceName: "Puck" }
                        }
                    }
                },
                model: "gemini-2.5-flash-preview-tts"
            };

            const response = await exponentialBackoffFetch(TTS_API_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            const result = await response.json();
            const part = result?.candidates?.[0]?.content?.parts?.[0];
            const audioData = part?.inlineData?.data;
            const mimeType = part?.inlineData?.mimeType;

            if (audioData && mimeType && mimeType.startsWith("audio/")) {
                const rateMatch = mimeType.match(/rate=(\d+)/);
                const sampleRate = rateMatch ? parseInt(rateMatch[1], 10) : 16000;
                
                const pcmData = base64ToArrayBuffer(audioData);
                const pcm16 = new Int16Array(pcmData);
                const wavBlob = pcmToWav(pcm16, sampleRate);
                const audioUrl = URL.createObjectURL(wavBlob);
                
                const audio = new Audio(audioUrl);
                
                const playPromise = audio.play();

                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        // 再生開始
                        buttonElement.textContent = '🔊 再生中...';
                        buttonElement.disabled = true;

                        audio.onended = () => {
                            buttonElement.textContent = originalText;
                            buttonElement.disabled = false;
                        };
                    }).catch(error => {
                        // Autoplay制限などで再生がブロックされた場合
                        console.error("Audio playback failed (Autoplay restriction likely):", error);
                        buttonElement.textContent = '🔇 再生失敗 (ブラウザ制限)';
                        buttonElement.disabled = false; // 再試行可能にする
                        
                        // 3秒後に元のテキストに戻す
                         setTimeout(() => {
                             buttonElement.textContent = originalText;
                         }, 3000);
                    });
                } else {
                     // Promiseがundefinedになる古いブラウザ向けのフォールバック
                     buttonElement.textContent = '🔊 再生中...';
                     audio.onended = () => {
                        buttonElement.textContent = originalText;
                        buttonElement.disabled = false;
                    };
                }

            } else {
                console.error("TTS APIからの応答が無効です:", result);
                throw new Error("音声データの取得に失敗しました。");
            }
        } catch (error) {
            console.error("音声生成エラー:", error);
            buttonElement.textContent = '🚫 エラー';
            setTimeout(() => {
                 buttonElement.textContent = originalText;
                 buttonElement.disabled = false;
            }, 3000);
        }
    }


    // ----------------------------------------------------
    // 2. 日付選択ボタンの生成
    // ----------------------------------------------------
    function renderSelector() {
        // 既存のボタンをクリア（クリアボタンは残す）
        const existingButtons = selector.querySelectorAll('button:not(#clear-selection-button)');
        existingButtons.forEach(btn => btn.remove());


        broadcastData.forEach(data => {
            const button = document.createElement('button');
            button.className = "w-full text-left p-3 my-1 rounded-lg transition duration-150 ease-in-out bg-white hover:bg-blue-100 border border-gray-200 shadow-sm";
            
            // 放送番号3は他の番号と区別しない、通常の表示にする
            button.innerHTML = `
                <div class="font-bold text-gray-800">${data.date}</div>
                <div class="text-sm text-blue-500">
                    放送番号 ${data.broadcastNo}
                </div>
            `;
            button.onclick = () => selectScript(data);
            selector.appendChild(button);
        });
    }

    // ----------------------------------------------------
    // 3. 選択された原稿の詳細表示
    // ----------------------------------------------------
    function selectScript(data) {
        if (initialMessage) initialMessage.classList.add('hidden');
        maskControls.classList.remove('hidden'); // マスクボタンを表示

        // 既存の動的コンテンツを削除
        let existingContent = document.getElementById('current-script-display');
        if (existingContent) {
            existingContent.remove();
        }

        // 新しいコンテンツのコンテナを作成し、挿入
        const newContent = document.createElement('div');
        newContent.id = 'current-script-display';
        newContent.innerHTML = renderScriptHTML(data);
        
        // detailAreaの最後に新しいコンテンツを挿入
        detailArea.appendChild(newContent); 

        // マスクの状態をリセット
        isMasked = false;
        updateMaskState();
    }
    
    // ----------------------------------------------------
    // 4. マスク機能の切り替え
    // ----------------------------------------------------
    maskButton.addEventListener('click', toggleMask);

    function toggleMask() {
        isMasked = !isMasked;
        updateMaskState();
    }

    function updateMaskState() {
        // マスク対象となる要素（.masked-contentの直下の.mask-overlayがない要素）を取得
        const maskElements = document.querySelectorAll('.masked-content');
        const button = document.getElementById('mask-button');
        
        if (isMasked) {
            maskElements.forEach(el => {
                // すでにマスクがない場合にのみ適用
                if (!el.querySelector('.mask-overlay')) {
                    const maskOverlay = document.createElement('div');
                    maskOverlay.className = 'mask-overlay';
                    maskOverlay.innerHTML = '<span class="text-3xl font-extrabold select-none">🔒 CONTENTS MASKED 🔒</span>';
                    el.appendChild(maskOverlay);
                }
            });
            button.textContent = '🔓 内容を表示 (マスクOFF)';
            button.classList.remove('bg-red-500', 'hover:bg-red-600');
            button.classList.add('bg-green-500', 'hover:bg-green-600');
        } else {
            maskElements.forEach(el => {
                // マスクを解除
                const overlay = el.querySelector('.mask-overlay');
                if (overlay) {
                    el.removeChild(overlay);
                }
            });
            button.textContent = '🔒 内容を隠す (マスクON)';
            button.classList.remove('bg-green-500', 'hover:bg-green-600');
            button.classList.add('bg-red-500', 'hover:bg-red-600');
        }
    }
    
    // ----------------------------------------------------
    // 5. 詳細表示のクリア機能（リストだけに集中する）
    // ----------------------------------------------------
    clearButton.addEventListener('click', clearSelection);

    function clearSelection() {
        // 既存の動的コンテンツを削除
        let existingContent = document.getElementById('current-script-display');
        if (existingContent) {
            existingContent.remove();
        }

        // マスクコントロールを非表示にする
        maskControls.classList.add('hidden');
        
        // 初期メッセージを再表示する
        initialMessage.classList.remove('hidden');

        // マスクの状態をリセット
        isMasked = false;
        updateMaskState(); 
        
        // 画面をリフレッシュし、リストのみの状態に戻す
        console.log("詳細表示がクリアされました。");
    }


    // ----------------------------------------------------
    // 6. 詳細表示エリアのHTML生成
    // ----------------------------------------------------
    function renderScriptHTML(data) {
        
        // タイトルはシンプルに放送番号と日付のみにする
        const mainTitle = `放送番号 ${data.broadcastNo} - ${data.date}`;
        
        // 朝の放送部分のHTML (ここはマスクを適用しない)
        const morningScript = `
            <div class="mb-8 p-6 border-l-4 border-orange-500 bg-orange-50 rounded-lg shadow-inner script-box">
                <h3 class="text-2xl font-bold text-orange-600 mb-4">${data.morning.title} (放送番号 ${data.broadcastNo})</h3>
                <p class="text-sm font-bold text-red-500 mb-4">【セリフ・アナウンス一切なし】</p>
                <div class="ml-4 space-y-2">
                    <!-- 1曲目の音楽 (マスク対象外) -->
                    <p><span class="font-bold text-gray-700">1曲目：</span>${data.morning.music}</p>
                    <!-- コーナー（十善戒）(マスク対象外) -->
                    <p><span class="font-bold text-gray-700">コーナー：</span>${data.morning.corner}</p>
                </div>
            </div>
        `;

        // 昼の放送（共通構成）
        let triviaItems = data.lunch.triviaContent.map(item => `
            <h4 class="font-bold mt-3 text-lg text-blue-700">${item.title}</h4>
            <p class="mb-2">${item.text}</p>
        `).join('');

        // 雑学全体を一つの音声用スクリプトとして結合
        let fullTriviaScript = data.lunch.triviaTitle + "。";
        data.lunch.triviaContent.forEach(item => {
            // タイトルと本文を句読点で区切って結合
            fullTriviaScript += item.title + "。" + item.text + "。";
        });
        
        // 曲目リストの生成 
        const musicListHtml = data.lunch.music.map((song, index) => {
             // 放送番号3は特殊対応（「家カフェCDより3曲（曲名未定）」という一つの項目）
            if (data.broadcastNo === 3) {
                 return `<li class="my-1 text-base font-bold text-purple-700">${song}</li>`;
            } else {
                 return `<li class="my-1">【${index + 1}曲目】<span class="font-bold">${song}</span></li>`;
            }
        }).join('');

        const lunchScript = `
            <div class="p-8 border-l-4 border-blue-600 bg-blue-50 rounded-lg shadow-inner script-box">
                <h3 class="text-2xl font-bold text-blue-800 mb-4">${data.lunch.title} (放送番号 ${data.broadcastNo})</h3>
                
                <!-- 導入アナウンスと音声再生ボタン -->
                <div class="bg-yellow-100 p-4 rounded-md mb-6 relative script-box">
                    <p class="font-bold text-xl text-yellow-800">🗣️ 導入アナウンス (CD音量0確認後)</p>
                    <button onclick="playScriptAudio('${data.lunch.intro.replace(/'/g, "\\'")}', this)" 
                            class="absolute top-4 right-4 bg-purple-600 hover:bg-purple-700 text-white font-bold py-1 px-3 rounded-full transition duration-150 text-sm shadow-md flex items-center">
                        🔊 読み上げを聞く
                    </button>
                    <!-- 導入アナウンスの本文はマスク対象 -->
                    <div class="masked-content p-2 bg-yellow-100 rounded-md">
                         <p class="mt-2 text-gray-700">${data.lunch.intro}</p>
                    </div>
                </div>

                <div class="mb-6">
                    <p class="font-bold text-xl text-green-700 mb-2">🎶 本日の曲目</p>
                    <ul class="list-disc list-inside ml-4 text-gray-700">
                        ${musicListHtml}
                    </ul>
                </div>
                
                <!-- 雑学コンテンツ（雑学の読み上げボタンを追加） -->
                <div class="bg-gray-100 p-4 rounded-md mb-6 relative script-box">
                    <p class="font-bold text-xl text-gray-800 mb-2 flex items-center justify-between">
                        <span>📝 ${data.lunch.triviaTitle}</span>
                        <!-- 雑学の再生ボタン -->
                        <button onclick="playScriptAudio('${fullTriviaScript.replace(/'/g, "\\'")}', this)" 
                            class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-1 px-3 rounded-full transition duration-150 text-sm shadow-md flex items-center">
                            🔊 雑学を読み上げる
                        </button>
                    </p>
                    <div class="masked-content p-2 bg-gray-100 rounded-md">
                        <div class="text-gray-700">${triviaItems}</div>
                    </div>
                </div>
                
                <!-- 締めのセリフと音声再生ボタン -->
                <div class="bg-red-100 p-4 rounded-md relative script-box mt-6">
                    <p class="font-bold text-xl text-red-700">👋 締めのセリフ (CD終了後)</p>
                    <button onclick="playScriptAudio('${data.lunch.closing.replace(/'/g, "\\'")}', this)" 
                            class="absolute top-4 right-4 bg-purple-600 hover:bg-purple-700 text-white font-bold py-1 px-3 rounded-full transition duration-150 text-sm shadow-md flex items-center">
                        🔊 読み上げを聞く
                    </button>
                    <div class="masked-content p-2 bg-red-100 rounded-md">
                         <p class="mt-2 text-gray-700">${data.lunch.closing}</p>
                    </div>
                </div>

            </div>
        `;


        // 最終的なHTMLを構成
        return `
            <h2 class="text-3xl font-extrabold mb-6 pb-3 border-b-2 text-gray-800">
                ${mainTitle}
            </h2>
            <div class="space-y-10">
                ${morningScript}
                ${lunchScript}
            </div>
        `;
    }

    // アプリケーションの初期化
    window.onload = renderSelector;

</script>
</body>
</html>
